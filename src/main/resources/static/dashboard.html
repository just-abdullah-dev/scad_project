<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard | Sprint Velocity Predictor</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/dashboard.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<!--  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/chart.js">-->
</head>
<body>
  <header>
    <div class="container">
      <nav class="navbar">
        <a href="index.html" class="navbar-brand">SprintPredictor</a>
        <div class="nav-links">
          <a href="dashboard.html" class="active">Dashboard</a>
          <a href="repo.html">Repos & Issues</a>
          <a href="sprints.html">Sprints</a>
          <a href="predictions.html">Predictions</a>
        </div>
        <div class="dropdown">
          <a href="#" class="d-flex align-items-center text-decoration-none dropdown-toggle" id="userDropdown" data-bs-toggle="dropdown">
<!--            <img src="images/default-avatar.png" alt="User" class="rounded-circle me-2" width="32" height="32">-->
            <span id="userNameSpan">User</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="profile.html">Profile</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#" id="logout">Sign out</a></li>
          </ul>
        </div>
      </nav>
    </div>
  </header>

  <main class="container mt-4">
    <div class="dashboard-header">
      <h2>Dashboard</h2>
<!--      <div class="d-flex gap-2">-->
<!--        <button id="syncGithub" class="btn btn-outline-primary">-->
<!--          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" class="me-1">-->
<!--            <path fill-rule="evenodd" d="M8 2.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11zM1 8a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 1 8zm7-4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4z"/>-->
<!--          </svg>-->
<!--          Sync with GitHub-->
<!--        </button>-->
<!--      </div>-->
    </div>

    <div class="metric-cards">
      <div class="metric-card primary">
        <h5>Average Velocity</h5>
        <div class="metric-value" id="avgVelocity">0</div>
        <p>Points per sprint</p>
      </div>
      <div class="metric-card success">
        <h5>Total Sprints</h5>
        <div class="metric-value" id="totalSprints">0</div>
        <p>Completed sprints</p>
      </div>
      <div class="metric-card warning">
        <h5>Total Points</h5>
        <div class="metric-value" id="completedPoints">0</div>
        <p>Story points delivered</p>
      </div>
    </div>

    <div class="dashboard-grid">
      <div class="chart-container">
        <canvas id="velocityChart" height="300"></canvas>
      </div>
      <div>
        <div class="card mb-4">
          <div class="card-header">
            <h5 class="card-title">Quick Actions</h5>
          </div>
          <div class="card-body">
            <a href="sprints.html?new=true" class="btn btn-primary w-100 mb-2">Create New Sprint</a>
            <a href="predictions.html" class="btn btn-secondary w-100 mb-2">Get Prediction</a>
            <a href="#" class="btn btn-outline-primary w-100" id="analyzeGithub">Analyze GitHub Data</a>
          </div>
        </div>
      </div>
    </div>

    <div class="card recent-sprints">
      <div class="card-header">
        <h5 class="card-title">Recent Sprints</h5>
      </div>
      <div class="card-body">
        <div id="recentSprints"></div>
      </div>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/auth.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  </body>
  </html>